# Character Animation



AngeliA engine provides a built-in character animation system. The animation is generated by code. You can write code inherited from the `PoseAnimation` class to create animations for the characters. When the game is in debug mode, enter the `playeranimation` cheat code to open the debug interface shown in the image below.

<img src="../../images/CharacterAnimationTest.gif" width="61.8%"/>



### Custom Animation

The following code forces the current player character to use the test animation:

```C#
using AngeliA;

namespace Test;

public class PoseAnimation_Test : PoseAnimation {

	// Cache TypeID for ManualPoseAnimate
	public static readonly int TYPE_ID = typeof(PoseAnimation_Test).AngeHash();

	// Force Current Player Use This Testing Animation
	[OnGameUpdate]
	internal static void OnGameUpdate () {
		var player = PlayerSystem.Selecting;
		if (player == null || player.Rendering is not PoseCharacterRenderer rendering) return;
		rendering.ManualPoseAnimate(TYPE_ID, duration: 1);
	}

	// Animate Logic
	public override void Animate (PoseCharacterRenderer renderer) {
		base.Animate(renderer);

		renderer.Head.Rotation = -5;
		renderer.Head.X -= 16;
		renderer.Body.X -= 16;
		renderer.Hip.X -= 16;
		renderer.UpperLegL.X -= 8;

		FrameworkUtil.ResetShoulderAndUpperArmPos(renderer);

		// Arm
		renderer.UpperArmL.Height = UpperArmL.SizeY;
		renderer.UpperArmR.Height = UpperArmR.SizeY;
		renderer.LowerArmL.Height = LowerArmL.SizeY;
		renderer.LowerArmR.Height = LowerArmR.SizeY;
		renderer.UpperArmL.LimbRotate(60 + Game.GlobalFrame.PingPong(30) - 15);
		renderer.UpperArmR.LimbRotate(-5);
		renderer.LowerArmL.LimbRotate(120);
		renderer.LowerArmR.LimbRotate(0);
		renderer.HandL.LimbRotate(0);
		renderer.HandR.LimbRotate(1);

		// Leg
		renderer.UpperLegL.LimbRotate(10);
		renderer.LowerLegL.LimbRotate(0);
		renderer.FootL.LimbRotate(-FacingSign);

		// Grab Rot
		renderer.HandGrabScaleL.Override(0);
		renderer.HandGrabScaleR.Override(0);

		// Z
		renderer.UpperArmL.Z = 30;
		renderer.UpperArmR.Z = 30;
		renderer.LowerArmL.Z = 31;
		renderer.LowerArmR.Z = 31;
		renderer.HandL.Z = 32;
		renderer.HandR.Z = 32;

	}

}
```

Result:

<img src="../../images/CharacterAnimationWave.gif" width="20%"/>



