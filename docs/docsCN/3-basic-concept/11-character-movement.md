# 角色运动



在游戏窗口打开右上方的运动编辑器即可调整当前玩家角色的运动方式，如移动速度、跳跃高度等。角色的运动属性保存在工程目录下的 `Universe/Meta/Character Movement` 文件夹中。

> ℹ️ 部分数值采用`千倍数`以增加精确度：
> - 1000 代表每帧 1 单位
> - 3000 代表每帧 3 单位
> - 100 代表每 10 帧 1 单位。



### 尺寸

调整角色的碰撞判定大小，单位为 global。 

<img src="../../images/MovementEditor/CN-1.gif" width="61.8%"/>



### 走步

移动时按住上方向键来走步，不支持走步的角色会无视此操作。

- 允许走步：勾选时角色可以走步。
- 走步速度：走步时每帧的移动距离，单位为 global。
- 走步加速度：走步时从低速变为高速时的加速度（千倍数）。
- 走步刹车加速度：走步时目标方向与实际运动方向相反时的加速度（千倍数）。
- 走步减速度：走步时从高速变为低速时的加速度（千倍数）。

<img src="../../images/MovementEditor/CN-2.gif" width="61.8%"/>



### 跑步

角色默认的移动方式，在空中时的移动速度由跑步或走步速度决定。

- 允许跑步：勾选时角色可以跑步。
- 跑步速度：跑步时每帧移动的距离，单位 global。
- 跑步加速度：跑步时从低速变为高速时的加速度（千倍数）。
- 跑步刹车加速度：跑步时目标方向与实际运动方向相反时的加速度（千倍数）。
- 跑步减速度：跑步时从高速变为低速时的加速度（千倍数）。

<img src="../../images/MovementEditor/CN-3.gif" width="61.8%"/>



### 跳跃

- 跳跃数：角色在触碰地面后的最大连续跳跃次数。
- 跳跃速度：角色开始跳跃时的初速度，单位 global。
- 松开跳跃键乘速率：角色跳跃且正在上升时，玩家若松开跳跃键，则当前速度将乘以这个数值（千倍数）。
- 跳跃上升重力：角色跳跃、正在上升且玩家按住跳跃键时，所受到的重力加速度将乘以这个数值（千倍数），下降时的加速度为默认加速度。
- 助跑跳跃更高：当角色开始跳跃时，若正在主动水平移动，则水平移动速度乘以这个数值（千倍数）后，追加进跳跃速度中。
- 首跳翻滚：触碰地面后的第一次跳跃表现为翻滚跳跃。
- 后跳翻滚：触碰地面后的非第一次跳跃表现为翻滚跳跃。
- 跳跃打断突进：突进时按下跳跃键可以打断突进。
- 跳跃打断冲刺：冲刺时按下跳跃键可以打断冲刺。
- 允许蹲跳：勾选时角色可以蹲下并跳跃，此操作与冲刺冲突，只有不允许冲刺时才能蹲跳。
- 向下跳跃穿过单向板：在朝上的单向板上站立时，同时按方向键下和跳跃键可以向下穿过单向板。此操作与冲刺冲突，当角色站在单向板上时，会优先执行穿透动作，只有站在非单向板上时才能冲刺。

<img src="../../images/MovementEditor/CN-4.gif" width="61.8%"/>



### 下蹲

- 允许下蹲：勾选时玩家可按方向键下使角色蹲下。
- 下蹲身高率：角色蹲下时，碰撞器高度乘以这个数值（千倍数）。
- 下蹲移动速度：下蹲时按左右方向键的移动速度，单位 global。
- 下蹲加速度：下蹲时从低速变为高速时的加速度（千倍数）。
- 下蹲减速度：下蹲时从高速变为低速时的加速度（千倍数）。

<img src="../../images/MovementEditor/CN-5.gif" width="61.8%"/>



### 冲刺

- 允许冲刺：勾选时玩家可按住下方向键时按下跳跃键来冲刺
- 冲刺身高率：角色冲刺时碰撞器高度乘以这个数值（千倍数）。
- 冲刺时翻滚：勾选时角色以翻滚姿态进行冲刺，仅影响渲染方式。
- 冲刺可灭火：角色冲刺时可将碰到的火焰熄灭。
- 冲刺速度：冲刺时的速度，单位 global。
- 冲刺时长：一次冲刺持续的时间，单位帧。
- 冲刺冷却：冲刺结束后再次冲刺需要等待的时间，单位帧。
- 冲刺加速度：冲刺时从低速变为高速时的加速度（千倍数）。
- 取消冲刺失速度：冲刺被取消（跳跃或松开跳跃键）的瞬间，角色速度乘以这个数值（千倍数）。

<img src="../../images/MovementEditor/CN-6.gif" width="61.8%"/>



### 突进

- 允许突进：勾选时玩家可连按两次左（或右）方向键来执行一次突进。
- 突进身高率：角色突进时碰撞器高度乘以这个数值（千倍数）。
- 允许空中突进：勾选时角色可以在未触碰地面时开始突进。
- 允许水中突进：勾选时角色可以在水中开始突进。
- 允许攀爬时突进：勾选时角色可以在攀爬时开始突进。
- 允许下蹲时突进：勾选时角色可以在蹲下时开始突进。
- 突进可灭火：角色突进时可将碰到的火焰熄灭。
- 突进速度：突进时的速度，单位 global。
- 突进停速：突进结束时角色的速度，单位 global。
- 突进时长：一次突进持续的时间，单位帧。
- 突进硬直：突进结束时，角色不能移动的时间，单位帧。
- 突进冷却：突进结束后再次突进需要等待的时间，单位帧。
- 突进加速度：突进时从低速变为高速时的加速度（千倍数）。
- 突进减速度：突进时从高速变为低速时的加速度（千倍数）。

<img src="../../images/MovementEditor/CN-7.gif" width="61.8%"/>



### 脚滑

- 允许脚滑：勾选时角色走在带有 `Slip` 标签的碰撞器上会打滑。
- 脚滑加速度：打滑时水平移动从低速变为高速时的加速度（千倍数）。
- 脚滑减速度：打滑时水平移动从高速变为低速时的加速度（千倍数）。

<img src="../../images/MovementEditor/CN-8.gif" width="61.8%"/>



### 坐地

- 允许坐地：勾选时，当角色在空中，玩家可按 ”下方向键“ 来开始坐地俯冲，松开下方向键则停止坐地。
- 坐地可灭火：坐地接触到地面的瞬间，角色可将触碰到的火焰熄灭。
- 坐地速度：坐地时的向下移动速度，单位 global。



<img src="../../images/MovementEditor/CN-9.gif" width="61.8%"/>



### 游泳

- 允许游泳：勾选时角色进入水中后自动以游泳的方式运动；不勾选时角色依然被水减速且重置跳跃次数，运动方式不会切换。
- 水中速率：角色在水中时运动速度乘以这个数值（千倍数）。
- 游泳身宽率：角色在水中时碰撞器宽度乘以这个数值（千倍数）。
- 游泳身高率：角色在水中时碰撞器高度乘以这个数值（千倍数）。
- 游泳移动速度：角色游泳时的移动速度，单位 global。
- 游泳上窜速度：角色在水中跳跃的初速度，单位 global。
- 游泳加速度：游泳时从低速变为高速时的加速度（千倍数）。
- 游泳减速度：游泳时从高速变为低速时的加速度（千倍数）。

<img src="../../images/MovementEditor/CN-10.gif" width="61.8%"/>



### 攀爬

- 允许攀爬：勾选时角色可以攀爬带有 `Climb` 或 `ClimbStable` 标签的 `trigger` 碰撞器。`ClimbStable` 碰撞器会让角色的水平位置对齐自身。
- 攀爬时允许跳跃：角色在攀爬状态下可以开始跳跃。
- 攀爬速度X：攀爬的水平移动速度，单位 global，`ClimbStable` 不支持水平移动。
- 攀爬速度Y：攀爬的垂直移动速度，单位 global。



<img src="../../images/MovementEditor/CN-11.gif" width="61.8%"/>



### 飞行

- 允许飞行：勾选时玩家可在跳跃次数耗尽后，再次按下跳跃键开始飞行。
- 飞行身高率：飞行时角色碰撞器高度乘以这个数值（千倍数）。
- 飞行时滑翔：飞行时玩家不按左右方向键角色也会朝着当前运动方向飞行。
- 飞行冷却：停止飞行后再次飞行需要等待的时间，单位帧。
- 飞行上升速度：飞行首次开始时角色获得的上升初速度，单位 global。触碰地面可重置。
- 飞行上升重力率：角色飞行且向上运动时，受到的重力加速度乘以这个数值（千倍数）。
- 飞行下落重力率：角色飞行且向下运动时，受到的重力加速度乘以这个数值（千倍数）。
- 飞行落速：飞行进行时，角色以这个速度下落，单位 global。
- 飞行移动速度：飞行时角色的水平移动速度，单位 global。
- 飞行加速度：飞行时从低速变为高速时的加速度（千倍数）。
- 飞行减速度：飞行时从高速变为低速时的加速度（千倍数）。

<img src="../../images/MovementEditor/CN-12.gif" width="61.8%"/>



### 滑墙

- 允许滑墙：勾选时角色可以紧贴在垂直墙面上滑行。
- 在任意块上滑墙：勾选时角色可以在没有 `NoSlide` 标签的碰撞器上滑墙；不勾选时角色只能在有 `Slide` 标签的碰撞器上滑墙。
- 滑墙时重置条约次数：将滑墙视为触碰地面以重置跳跃数。
- 滑墙跳踢速度：滑墙状态下按跳跃键可向墙面反方向跳跃，此项目为水平速度数值，单位 global。
- 滑墙下落速度：滑墙时持续下落的速度，单位 global。



<img src="../../images/MovementEditor/CN-13.gif" width="61.8%"/>



### 抓爬

- 允许上抓爬：勾选时角色可通过在下方接触带有 `GrabTop` 标签的碰撞器来开始抓爬。
- 允许侧抓爬：勾选时角色可通过在侧面接触带有 `GrabSide` 标签的碰撞器来开始抓爬。
- 上抓爬身高率：角色上抓爬时碰撞器高度乘以这个数值（千倍数）。
- 侧抓爬身高率：角色侧抓爬时碰撞器高度乘以这个数值（千倍数）。
- 抓爬时重置跳跃数：将抓爬视为触碰地面以重置跳跃数。
- 允许抓爬时下翻：当角色站在带有 `GrabTop`  标签的碰撞器上时，玩家按住`下方向键`的同时按跳跃键可向下翻越碰撞器并开始上抓爬。
- 允许抓爬时上翻：当角色上抓爬时，玩家按上方向键可向上翻越被抓爬的碰撞器。
- 抓爬翻越时长：翻越动作需要的时间，单位帧。
- 抓爬移动速度X：上抓爬时的水平移动速度，单位 global。
- 抓爬移动速度Y：侧抓爬时的垂直移动速度，单位 global
- 侧抓爬跳踢速度：侧抓爬状态下按跳跃键可向墙面反方向跳跃，此项目为水平速度数值，单位 global。



<img src="../../images/MovementEditor/CN-14.gif" width="61.8%"/>



### 摔倒

- 允许摔倒：勾选后角色可以摔倒，摔倒时角色不能主动移动，不会对角色造成伤害。
- 脚滑时摔倒：勾选后角色会在累计脚滑一定时长后摔倒。
- 摔倒时长：一次摔倒持续的时间，单位帧。
- 跑多久摔倒：在打滑的地面上连续跑步多少帧会触发摔倒，走步不会导致摔倒，冲刺会立刻摔倒。
- 摔倒减速度：摔倒状态下速度的递减率（千倍数）。



<img src="../../images/MovementEditor/CN-15.gif" width="61.8%"/>



### 推

- 允许推：勾选后角色可以在移动时推动部分阻挡的物体，该物体需要继承自 `Rigidbody`且 `AllowBeingPush`属性为 `True`。
- 推速度：推动物体时的移动速度，单位 global。

<img src="../../images/MovementEditor/CN-16.gif" width="61.8%"/>


